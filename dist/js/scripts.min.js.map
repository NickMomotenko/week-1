{"version":3,"sources":["scripts.js","snippets/modal/modal.js","snippets/selectmenu/selectmenu.js"],"names":["debounce","func","wait","immediate","timeout","context","this","args","arguments","callNow","clearTimeout","setTimeout","apply","getScrollbarWidth","outer","document","createElement","style","visibility","width","msOverflowStyle","body","appendChild","widthNoScroll","offsetWidth","overflow","inner","widthWithScroll","parentNode","removeChild","hasScrollbar","$","height","window","showModal","e","addClass","modal","scrollWidth","css","margin-right","documentMode","find","outerHeight","removeAttr","modalClose","thisModal","closest","hasClass","removeClass","prevModal","callbackClose","parseInt","on","preventDefault","newModal","data","length","click","target","stopPropagation","addEventListener","key","keyCode","allMenu","currentMenu","mainBlock","val","text","valid","div","is","has"],"mappings":"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","file":"scripts.min.js","sourcesContent":["function debounce(func, wait, immediate) {\r\n    var timeout;\r\n    return function () {\r\n        var context = this, args = arguments;\r\n        var later = function () {\r\n            timeout = null;\r\n            if (!immediate) func.apply(context, args);\r\n        };\r\n        var callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow) func.apply(context, args);\r\n    };\r\n}\r\n\r\nfunction getScrollbarWidth() {\r\n    var outer = document.createElement(\"div\");\r\n    outer.style.visibility = \"hidden\";\r\n    outer.style.width = \"100px\";\r\n    outer.style.msOverflowStyle = \"scrollbar\";\r\n\r\n    document.body.appendChild(outer);\r\n\r\n    var widthNoScroll = outer.offsetWidth;\r\n    // force scrollbars\r\n    outer.style.overflow = \"scroll\";\r\n\r\n    // add innerdiv\r\n    var inner = document.createElement(\"div\");\r\n    inner.style.width = \"100%\";\r\n    outer.appendChild(inner);\r\n\r\n    var widthWithScroll = inner.offsetWidth;\r\n\r\n    // remove divs\r\n    outer.parentNode.removeChild(outer);\r\n    return widthNoScroll - widthWithScroll;\r\n}\r\n\r\n// проверка на боковой скролл\r\nfunction hasScrollbar() {\r\n    // console.log(document.body.scrollHeight, document.body.clientHeight);\r\n    // return document.body.scrollHeight > document.body.clientHeight;\r\n    // console.log($(document).height() > $(window).height());\r\n    return $(document).height() > $(window).height();\r\n}","$(function() {\r\n\r\n    var prevModal;\r\n    // showModal('modal-history-pay');\r\n    $(document).on('click', '[data-modal]',function(e) {\r\n        e.preventDefault();\r\n        var newModal = $(this).data(\"modal\");\r\n        if ( $(\".default-modal.active\").length ) {\r\n            // prevModal = $(this).closest(\".default-modal\");\r\n            // prevModal.removeClass(\"active\");\r\n            modalClose();\r\n            setTimeout(function() {\r\n                // $('.'+newModal).addClass(\"active half\");\r\n                showModal(newModal);\r\n            }, 300);\r\n        }else{\r\n            showModal(newModal);\r\n        }\r\n        // showModal($(this).data(\"modal\"));\r\n    });\r\n    $(\".default-modal__close, [data-modal-close]\").click(function() {\r\n        modalClose();\r\n    });\r\n\r\n    $(\".default-modal\").click(function(e) {\r\n        var thisModal = $(this);\r\n        if ( thisModal.hasClass(\"half\") && !$(e.target).closest(\".default-modal__wrap\").length ) {\r\n            thisModal.removeClass(\"active half\");\r\n            setTimeout(function() {\r\n                prevModal.addClass(\"active\");\r\n            }, 300);\r\n        }else{\r\n            if (!$(e.target).closest(\".default-modal__content\").length) {\r\n                callbackClose();\r\n                e.stopPropagation();//?\r\n            }else{\r\n                // console.log(\"modal-content click\");\r\n            }\r\n        }\r\n    });\r\n\r\n    document.addEventListener('keydown', function (e) {\r\n        if(e.key===\"Escape\"||e.key==='Esc'||e.keyCode===27) {\r\n            var thisModal = $(\".default-modal.half\");\r\n            if ( thisModal.length ) {\r\n                thisModal.removeClass(\"active half\");\r\n                setTimeout(function() {\r\n                    prevModal.addClass(\"active\");\r\n                }, 300);\r\n            }else {\r\n                callbackClose();\r\n            }\r\n        }\r\n    });\r\n\r\n});\r\nfunction showModal(e) {\r\n    $(\"body\").addClass(\"modal-open\");\r\n    var modal = $(\".\" + e + \"\");\r\n    // var scrollTop = ($('html').scrollTop()) ? $('html').scrollTop() : $('body').scrollTop(); // Works for Chrome, Firefox, IE...\r\n    // $('html').addClass('no-scroll').css('top',-scrollTop);\r\n    $('html').addClass('no-scroll');\r\n    // console.log(modal);\r\n    if (hasScrollbar()) {\r\n        // с учетом горизонтального скролла. Чтобы небыло рывка при открытии модального окна\r\n        var scrollWidth = getScrollbarWidth();\r\n        // console.log(scrollWidth);\r\n        $(\"html\").css({\r\n            \"margin-right\": scrollWidth\r\n        });\r\n        $(\".header__wrap\").css({\r\n            \"margin-right\": scrollWidth\r\n        });\r\n        modal.addClass(\"active\");\r\n    } else {\r\n        modal.addClass(\"active\");\r\n    }\r\n\r\n    var isIE = /*@cc_on!@*/false || !!document.documentMode;\r\n    if (isIE === true) {\r\n        // console.log(modal.find(\".default-modal__content\").outerHeight(), $(window).height());\r\n        // var blockPosTop = modal.find(\".default-modal__content\").position().top;\r\n        // if ( blockPosTop < 0 ) {\r\n        //     console.log(blockPosTop)\r\n        //     modal.css(\"display\", \"block\");\r\n        // }else {\r\n        //     modal.removeAttr(\"style\");\r\n        // }\r\n        if ( modal.find(\".default-modal__content\").outerHeight() > $(window).height() ) {\r\n            // console.log(blockPosTop)\r\n            modal.css(\"display\", \"block\");\r\n        }else {\r\n            modal.removeAttr(\"style\");\r\n        }\r\n    }\r\n\r\n}\r\nfunction modalClose() {\r\n    var thisModal = $(this).closest(\".default-modal\");\r\n    if ( thisModal.hasClass(\"half\") ) {\r\n        thisModal.removeClass(\"active half\");\r\n        setTimeout(function() {\r\n            prevModal.addClass(\"active\");\r\n        }, 300);\r\n    }else {\r\n        callbackClose();\r\n    }\r\n}\r\nfunction callbackClose() {\r\n    $(\"body\").removeClass(\"modal-open\");\r\n    $(\".default-modal\").removeClass(\"active\");\r\n    setTimeout(function() {\r\n        var scrollTop = parseInt($('html').css('top'));\r\n        $('html').removeClass('no-scroll');\r\n        // $('html,body').scrollTop(-scrollTop);\r\n        $('html').css('margin-right','');\r\n        $(\".header__wrap\").css('margin-right','');\r\n    }, 300);\r\n}","$(function() {\r\n\r\n    $(\".selectmenu-js__main\").click(function() {\r\n        let allMenu = $(\".selectmenu-js__main\").closest(\".selectmenu-js\");\r\n        let currentMenu = $(this).closest(\".selectmenu-js\");\r\n        if ( currentMenu.hasClass(\"active\") ) {\r\n            allMenu.removeClass(\"active\");\r\n        }else{\r\n            allMenu.removeClass(\"active\");\r\n            currentMenu.addClass(\"active\");\r\n        }\r\n    });\r\n    $(\".selectmenu-js__item\").click(function() {\r\n        let mainBlock = $(this).closest(\".selectmenu-js\");\r\n        mainBlock.find(\"input\").val($(this).text());\r\n        mainBlock.find(\"input\").valid();\r\n        mainBlock.removeClass(\"active\");\r\n        mainBlock.find(\".selectmenu-js__main\").text($(this).text());\r\n    });\r\n\r\n    if ( $(\".selectmenu-js\").length ) {\r\n        $(document).on('mousedown touchstart', function (e) {\r\n            var div = $(\".selectmenu-js\");\r\n            if (!div.is(e.target) && div.has(e.target).length === 0) {\r\n                div.removeClass(\"active\");\r\n            }\r\n        });\r\n    }\r\n\r\n    // $(\".selectmenu-js__dropdown\").mCustomScrollbar({\r\n        // callbacks:{\r\n        //     onCreate: function(){\r\n        //         console.log($(this));\r\n        //     }\r\n        // }\r\n    // });\r\n\r\n\r\n});"]}